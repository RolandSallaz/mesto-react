{"version":3,"sources":["images/logo.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/DeleteConfirmPopup/DeleteConfirmPopup.js","utils/Api.js","utils/constants.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","cardData","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","link","name","onCardClick","type","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","backgroundImage","avatar","about","map","cardItem","Footer","PopupWithForm","title","children","isOpen","onClose","onSubmit","loading","id","AddPlacePopup","useState","cardDescription","setCardDescription","cardLink","setCardLink","e","preventDefault","description","placeholder","required","value","onChange","target","ImagePopup","card","EditProfilePopup","setName","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","DeleteConfirmPopup","api","config","this","_url","url","_headers","headers","_checkResponse","bind","response","ok","json","Promise","reject","status","fetch","then","res","newName","newInfo","method","body","JSON","stringify","prop","authorization","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","isLoading","setIsLoading","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getCards","cardList","Provider","changeLikeCardStatus","newCard","state","c","test","setUserInfo","finally","sendCard","changerAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4052d8a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import \"./Header\";\r\nimport logo from \"../../images/logo.svg\";\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        src={logo}\r\n        alt=\"Логотип 'Яндекс место'\"\r\n        className=\"logo logo_place_header\"\r\n      />\r\n    </header>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nconst Card = (props) => {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = props.cardData.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__deleteButton ${!isOwn && 'element__deleteButton_hidden'}`\r\n    );\r\n    const isLiked = props.cardData.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__like ${isLiked && \"element__like_clicked\"}`;\r\n    const handleCardClick = () => {\r\n        props.onCardClick(props.cardData);\r\n    }\r\n    const handleCardLike = () => {\r\n        props.onCardLike(props.cardData);\r\n    }\r\n    const handleCardDelete = () => {\r\n        props.onCardDelete(props.cardData);\r\n    }\r\n    return (\r\n        <div className=\"element\">\r\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n            <img src={props.cardData.link} alt={props.cardData.name} className=\"element__image\" onClick={handleCardClick} />\r\n            <div className=\"element__container\">\r\n                <h2 className=\"element__heading\">{props.cardData.name}</h2>\r\n                <div className=\"element__like-container\">\r\n                    <button className={cardLikeButtonClassName} aria-label=\"Поставить лайк карточке\" type=\"button\" onClick={handleCardLike}></button>\r\n                    <p className=\"element__like-counter\">{props.cardData.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n}\r\nexport default Card;","import Card from '../Card/Card.js';\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext.js';\r\nconst Main = ({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} >\r\n          <div className=\"profile__edit\"></div>\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__content\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            aria-label=\"Редактировать профиль\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          aria-label=\"Добавить карточку\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map(cardItem => {\r\n          return (<Card\r\n            key={cardItem._id}\r\n            cardData={cardItem}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete} />)\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\nexport default Main;\r\n","const Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\nexport default Footer;\r\n","const PopupWithForm = ({ name, title, children, isOpen, onClose, onSubmit, loading }) => {\r\n  return (\r\n    <div className={`popup popup_name_${name} ${isOpen && \"popup_show\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n          aria-label=\"Закрыть форму\"\r\n          type=\"button\"\r\n        ></button>\r\n        <form className=\"form\" id={name} onSubmit={onSubmit}>\r\n          <div className=\"form__container\">\r\n            <h2 className=\"form__title\">{title}</h2>\r\n            {children}\r\n            <button className={`form__save-button ${loading && \"form__save-button_loading\"}`} type=\"submit\">\r\n              Сохранить\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PopupWithForm;\r\n","import PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport { useState } from \"react\";\r\nexport default function AddPlacePopup({ isOpen, onClose, onSubmit, ...props }) {\r\n    const [cardDescription, setCardDescription] = useState(null);\r\n    const [cardLink, setCardLink] = useState(null);\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSubmit({ link: cardLink, description: cardDescription });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            title=\"Новое Место\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            loading={props.loading}\r\n        >\r\n            <label>\r\n                <input\r\n                    placeholder=\"Название\"\r\n                    type=\"text\"\r\n                    name=\"imgName\"\r\n                    className=\"form__input form__input_info_name\"\r\n                    id=\"form__input_info_cardName\"\r\n                    required\r\n                    value={cardDescription}\r\n                    onChange={e => { setCardDescription(e.target.value) }}\r\n                />\r\n                <span className=\"form__error\" id=\"form__input_info_cardName-error\">\r\n                    Поле с ошибкой\r\n                </span>\r\n            </label>\r\n            <label>\r\n                <input\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    type=\"url\"\r\n                    name=\"link\"\r\n                    className=\"form__input form__input_info_about\"\r\n                    id=\"form__input_info_link\"\r\n                    required\r\n                    value={cardLink}\r\n                    onChange={e => { setCardLink(e.target.value) }}\r\n                />\r\n                <span className=\"form__error\" id=\"form__input_info_link-error\">\r\n                    Поле с ошибкой\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}","const ImagePopup = ({ card, onClose }) => {\r\n  return (\r\n    <div className={`popup popup_name_image ${card && 'popup_show'}`}>\r\n      <div className=\"popup__container popup__container_name_preview\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"popup__close-button\"\r\n          aria-label=\"Закрыть форму\"\r\n          type=\"button\"\r\n        ></button>\r\n        <img src={card && card.link} alt=\"Изображение недоступно\" className=\"popup__image\" ></img>\r\n        <p className=\"popup__image-name\">{card && card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ImagePopup;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n    useEffect(() => {\r\n        if (currentUser) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser, props.isOpen]);\r\n    return (<PopupWithForm\r\n        name=\"edit\"\r\n        title=\"Редактировать профиль\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    >\r\n        <label>\r\n            <input\r\n                placeholder=\"Имя\"\r\n                value={name}\r\n                type=\"text\"\r\n                name=\"userName\"\r\n                className=\"form__input form__input_info_name\"\r\n                id=\"form__input_info_name\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={(e) => { setName(e.target.value) }}\r\n            />\r\n            <span className=\"form__error\" id=\"form__input_info_name-error\">\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n        <label>\r\n            <input\r\n                placeholder=\"О себе\"\r\n                value={description}\r\n                type=\"text\"\r\n                name=\"about\"\r\n                className=\"form__input form__input_info_about\"\r\n                id=\"form__input_info_about\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={(e) => { setDescription(e.target.value) }}\r\n            />\r\n            <span className=\"form__error\" id=\"form__input_info_about-error\">\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n    </PopupWithForm>);\r\n}\r\nexport default EditProfilePopup;","import { useRef } from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = useRef();\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({ avatar: avatarRef.current.value });\r\n    }\r\n    return (<PopupWithForm\r\n        name=\"changeAvatar\"\r\n        title=\"Обновить аватар\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    >\r\n        <label>\r\n            <input\r\n                placeholder=\"Ссылка на картинку\"\r\n                type=\"url\"\r\n                name=\"link\"\r\n                className=\"form__input form__input_info_about\"\r\n                id=\"form__input_changeAvatar_link\"\r\n                required\r\n                ref={avatarRef}\r\n            />\r\n            <span\r\n                className=\"form__error\"\r\n                id=\"form__input_changeAvatar_link-error\"\r\n            >\r\n                Поле с ошибкой\r\n            </span>\r\n        </label>\r\n    </PopupWithForm>);\r\n}","import PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nexport default function DeleteConfirmPopup(props) {\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmit(props.card);\r\n    }\r\n    return (<PopupWithForm\r\n        name=\"DeleteConfirm\"\r\n        title=\"Вы уверены?\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n        loading={props.loading}\r\n    />)\r\n}","import { apiUrl, apiAuthKey } from \"./constants\";\r\nclass Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n        this._checkResponse = this._checkResponse.bind(this);\r\n    }\r\n    _checkResponse(response) {\r\n        return response.ok ? response.json() : Promise.reject(response.status);\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    setUserInfo(newName, newInfo) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({ name: newName, about: newInfo })\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    getCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    sendCard(name, link) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({ name, link })\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n    changeLikeCardStatus(id, prop) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: prop,\r\n            headers: this._headers,\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n\r\n    changerAvatar(avatar) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({ avatar }),\r\n        }).then(res => {\r\n            return this._checkResponse(res);\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: apiUrl,\r\n    headers: {\r\n        authorization: apiAuthKey,\r\n        \"Content-type\": \"application/json\"\r\n    }\r\n});\r\nexport default api;","const apiUrl = 'https://mesto.nomoreparties.co/v1/cohort-26/';\r\nconst apiAuthKey = '6df61dab-da31-4f8e-8ce7-f211bdfa5ef2';\r\n\r\nexport { apiAuthKey, apiUrl };\r\n","import Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport AddPlacePopup from \"../AddPlacePopup/AddPlacePopup\";\r\nimport ImagePopup from \"../ImagePopup/ImagePopup\";\r\nimport EditProfilePopup from \"../EditProfilePopup/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../EditAvatarPopup/EditAvatarPopup\";\r\nimport DeleteConfirmPopup from \"../DeleteConfirmPopup/DeleteConfirmPopup\";\r\nimport api from \"../../utils/Api\";\r\nimport { useState, useEffect } from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cardToDelete, setCardToDelete] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleCardDeleteClick = (cardData) => {\r\n    setCardToDelete(cardData);\r\n    setIsDeletePopupOpen(true);\r\n  }\r\n\r\n  const handleCardDelete = (card) => {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => { setCards((state) => state.filter(cardItem => cardItem._id !== card._id)); closeAllPopups(); })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n\r\n  const handleCardClick = (cardData) => {\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  const handleUpdateUser = ({ name, about, test }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(name, about)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n  const handleUpdateAvatar = ({ avatar }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .changerAvatar(avatar)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\r\n      .then((newCard) => { setCards((state) => state.map((c) => c._id === card._id ? newCard : c)); })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  const handleAddPlace = ({ link, description }) => {\r\n    setIsLoading(true);\r\n    api\r\n      .sendCard(description, link)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) });\r\n  }\r\n  const closeAllPopups = () => {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo().then(res => { setCurrentUser(res); })\r\n      .catch(err => console.log(`Ошибка при загрузке пользователя err ${err}`));\r\n  }, []);\r\n  useEffect(() => {\r\n    api\r\n      .getCards().then(cardList => { setCards(cardList); })\r\n      .catch(err => console.log(`Ошибка при получении карточек err ${err}`));\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        {currentUser && <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDeleteClick}\r\n        />}\r\n        <Footer />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} onClose={closeAllPopups} loading={isLoading} />\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onSubmit={handleAddPlace} loading={isLoading} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} loading={isLoading} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <DeleteConfirmPopup isOpen={isDeletePopupOpen} card={cardToDelete} onClose={closeAllPopups} onSubmit={handleCardDelete} loading={isLoading} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}